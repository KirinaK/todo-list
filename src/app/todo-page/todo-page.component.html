<app-header></app-header>

<main>
  <app-new-item (addNewItem)="createItem($event)"
                (changeItem)="updateItem($event)"
                (sortItem)="sortingItems()" #childRef></app-new-item>

  <ul class="todo-list" *ngIf="itemsData.length > 0">
    <li class="todo-list__item" *ngFor="let item of itemsData">
      <span class="todo-list__item-delete" (click)="deleteItem(item)">x</span>
      <h2 class="todo-list__item-title">{{item.title}}</h2>
      <p class="todo-list__item-description" [ngClass]="{'showAllText': item.show}" (click)="showText(item, $event)">{{item.description}}</p>
      <div class="todo-list__item-footer">
        <img class="todo-list__item-image" src="{{item.img}}" (error)="setDefaultImage(item)">
        <span class="todo-list__item-date">{{item.date}}</span>
        <span class="todo-list__item-edit" (click)="childRef.editItem(item)">edit</span>
      </div>
    </li>
  </ul>
</main>

<app-map></app-map>
